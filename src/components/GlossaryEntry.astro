---
import type { GlossaryEntry } from '../types';

export interface Props {
  entry: GlossaryEntry;
  showFullContent?: boolean;
}

const { entry, showFullContent = true } = Astro.props;
---

<div 
  id={`entry-${entry.id}`}
  class="entry-card bg-gray-50 rounded-lg p-6 hover:shadow-md transition-shadow"
  data-term={entry.term.toLowerCase()}
  data-definition={entry.definition.toLowerCase()}
  data-tags={entry.tags?.join(' ').toLowerCase() || ''}
>
  <h3 class="text-xl font-semibold text-primary-600 mb-3">
    {entry.term}
  </h3>
  
  <p class="text-gray-700 mb-4 leading-relaxed">
    {entry.definition}
  </p>
  
  {showFullContent && (
    <>
      {entry.etymology && (
        <div class="mb-3">
          <span class="text-sm font-medium text-gray-500">Etymology:</span>
          <span class="text-sm text-gray-600 ml-2">{entry.etymology}</span>
        </div>
      )}
      
      {entry.examples && entry.examples.length > 0 && (
        <div class="mb-3">
          <span class="text-sm font-medium text-gray-500 block mb-1">Examples:</span>
          <ul class="text-sm text-gray-600 ml-4">
            {entry.examples.map(example => (
              <li class="list-disc">{example}</li>
            ))}
          </ul>
        </div>
      )}
      
      {entry.relatedTerms && entry.relatedTerms.length > 0 && (
        <div class="mb-3">
          <span class="text-sm font-medium text-gray-500">Related Terms:</span>
          <div class="flex flex-wrap gap-2 mt-1">
            {entry.relatedTerms.map(termId => (
              <a 
                href={`#entry-${termId}`}
                class="text-xs bg-primary-100 text-primary-800 px-2 py-1 rounded hover:bg-primary-200 transition-colors"
              >
                {termId.replace('-', ' ')}
              </a>
            ))}
          </div>
        </div>
      )}
      
      {entry.tags && entry.tags.length > 0 && (
        <div class="flex flex-wrap gap-1">
          {entry.tags.map(tag => (
            <span class="text-xs bg-gray-200 text-gray-700 px-2 py-1 rounded">
              {tag}
            </span>
          ))}
        </div>
      )}
    </>
  )}
</div>